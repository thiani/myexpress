{"ast":null,"code":"// src/components/admin/common/AdminTable.tsx\nimport React,{useState}from'react';import{ChevronDown,ChevronUp}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminTable=_ref=>{let{columns,data,isLoading,selectable,onSelect,onRowClick}=_ref;const[selectedItems,setSelectedItems]=useState([]);const[sortConfig,setSortConfig]=useState(null);const handleSort=key=>{setSortConfig(current=>({key,direction:(current===null||current===void 0?void 0:current.direction)==='asc'?'desc':'asc'}));};const handleSelectAll=checked=>{const newSelected=checked?data.map(item=>item.id):[];setSelectedItems(newSelected);onSelect===null||onSelect===void 0?void 0:onSelect(data.filter(item=>newSelected.includes(item.id)));};const handleSelectItem=id=>{setSelectedItems(current=>{const newSelected=current.includes(id)?current.filter(itemId=>itemId!==id):[...current,id];onSelect===null||onSelect===void 0?void 0:onSelect(data.filter(item=>newSelected.includes(item.id)));return newSelected;});};if(isLoading){return/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-12 bg-gray-200 rounded-t-lg mb-1\"}),[1,2,3].map(i=>/*#__PURE__*/_jsx(\"div\",{className:\"h-16 bg-gray-100 mb-1\"},i))]});}return/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 border-y\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[selectable&&/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 w-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedItems.length===data.length,onChange:e=>handleSelectAll(e.target.checked),className:\"rounded text-brand-blue-500 focus:ring-brand-blue-500/20\"})}),columns.map((column,index)=>/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-sm font-medium text-gray-500\\n                  \".concat(column.width?\"w-\".concat(column.width):''),children:column.sortable?/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleSort(column.key),className:\"flex items-center space-x-1 group\",children:[/*#__PURE__*/_jsx(\"span\",{children:column.title}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 group-hover:text-gray-600\",children:(sortConfig===null||sortConfig===void 0?void 0:sortConfig.key)===column.key?sortConfig.direction==='asc'?/*#__PURE__*/_jsx(ChevronUp,{className:\"h-4 w-4\"}):/*#__PURE__*/_jsx(ChevronDown,{className:\"h-4 w-4\"}):/*#__PURE__*/_jsx(ChevronDown,{className:\"h-4 w-4\"})})]}):column.title},index))]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y\",children:data.map((item,rowIndex)=>/*#__PURE__*/_jsxs(\"tr\",{onClick:()=>onRowClick===null||onRowClick===void 0?void 0:onRowClick(item),className:\"\".concat(onRowClick?'cursor-pointer hover:bg-gray-50':''),children:[selectable&&/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedItems.includes(item.id),onChange:()=>handleSelectItem(item.id),onClick:e=>e.stopPropagation(),className:\"rounded text-brand-blue-500 focus:ring-brand-blue-500/20\"})}),columns.map((column,colIndex)=>/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:column.render?column.render(item):String(item[column.key])},colIndex))]},item.id))})]})});};export default AdminTable;","map":{"version":3,"names":["React","useState","ChevronDown","ChevronUp","jsx","_jsx","jsxs","_jsxs","AdminTable","_ref","columns","data","isLoading","selectable","onSelect","onRowClick","selectedItems","setSelectedItems","sortConfig","setSortConfig","handleSort","key","current","direction","handleSelectAll","checked","newSelected","map","item","id","filter","includes","handleSelectItem","itemId","className","children","i","type","length","onChange","e","target","column","index","concat","width","sortable","onClick","title","rowIndex","stopPropagation","colIndex","render","String"],"sources":["C:/Users/Thiani/myexpress/myexpresslimited/src/components/admin/common/AdminTable.tsx"],"sourcesContent":["// src/components/admin/common/AdminTable.tsx\r\nimport React, { useState } from 'react';\r\nimport { ChevronDown, ChevronUp } from 'lucide-react';\r\n\r\ninterface Column<T> {\r\n  key: keyof T | string;\r\n  title: string;\r\n  render?: (item: T) => React.ReactNode;\r\n  sortable?: boolean;\r\n  width?: string;\r\n}\r\n\r\ninterface AdminTableProps<T> {\r\n  columns: Column<T>[];\r\n  data: T[];\r\n  isLoading?: boolean;\r\n  selectable?: boolean;\r\n  onSelect?: (selectedItems: T[]) => void;\r\n  onRowClick?: (item: T) => void;\r\n}\r\n\r\nconst AdminTable = <T extends { id: string }>({\r\n  columns,\r\n  data,\r\n  isLoading,\r\n  selectable,\r\n  onSelect,\r\n  onRowClick\r\n}: AdminTableProps<T>) => {\r\n  const [selectedItems, setSelectedItems] = useState<string[]>([]);\r\n  const [sortConfig, setSortConfig] = useState<{\r\n    key: keyof T | string;\r\n    direction: 'asc' | 'desc';\r\n  } | null>(null);\r\n\r\n  const handleSort = (key: keyof T | string) => {\r\n    setSortConfig(current => ({\r\n      key,\r\n      direction: current?.direction === 'asc' ? 'desc' : 'asc'\r\n    }));\r\n  };\r\n\r\n  const handleSelectAll = (checked: boolean) => {\r\n    const newSelected = checked ? data.map(item => item.id) : [];\r\n    setSelectedItems(newSelected);\r\n    onSelect?.(data.filter(item => newSelected.includes(item.id)));\r\n  };\r\n\r\n  const handleSelectItem = (id: string) => {\r\n    setSelectedItems(current => {\r\n      const newSelected = current.includes(id)\r\n        ? current.filter(itemId => itemId !== id)\r\n        : [...current, id];\r\n      \r\n      onSelect?.(data.filter(item => newSelected.includes(item.id)));\r\n      return newSelected;\r\n    });\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"animate-pulse\">\r\n        <div className=\"h-12 bg-gray-200 rounded-t-lg mb-1\" />\r\n        {[1, 2, 3].map(i => (\r\n          <div key={i} className=\"h-16 bg-gray-100 mb-1\" />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"overflow-x-auto\">\r\n      <table className=\"w-full\">\r\n        <thead className=\"bg-gray-50 border-y\">\r\n          <tr>\r\n            {selectable && (\r\n              <th className=\"px-6 py-3 w-4\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={selectedItems.length === data.length}\r\n                  onChange={(e) => handleSelectAll(e.target.checked)}\r\n                  className=\"rounded text-brand-blue-500 focus:ring-brand-blue-500/20\"\r\n                />\r\n              </th>\r\n            )}\r\n            {columns.map((column, index) => (\r\n              <th\r\n                key={index}\r\n                className={`px-6 py-3 text-left text-sm font-medium text-gray-500\r\n                  ${column.width ? `w-${column.width}` : ''}`}\r\n              >\r\n                {column.sortable ? (\r\n                  <button\r\n                    onClick={() => handleSort(column.key)}\r\n                    className=\"flex items-center space-x-1 group\"\r\n                  >\r\n                    <span>{column.title}</span>\r\n                    <span className=\"text-gray-400 group-hover:text-gray-600\">\r\n                      {sortConfig?.key === column.key ? (\r\n                        sortConfig.direction === 'asc' ? (\r\n                          <ChevronUp className=\"h-4 w-4\" />\r\n                        ) : (\r\n                          <ChevronDown className=\"h-4 w-4\" />\r\n                        )\r\n                      ) : (\r\n                        <ChevronDown className=\"h-4 w-4\" />\r\n                      )}\r\n                    </span>\r\n                  </button>\r\n                ) : (\r\n                  column.title\r\n                )}\r\n              </th>\r\n            ))}\r\n          </tr>\r\n        </thead>\r\n        <tbody className=\"divide-y\">\r\n          {data.map((item, rowIndex) => (\r\n            <tr\r\n              key={item.id}\r\n              onClick={() => onRowClick?.(item)}\r\n              className={`${onRowClick ? 'cursor-pointer hover:bg-gray-50' : ''}`}\r\n            >\r\n              {selectable && (\r\n                <td className=\"px-6 py-4\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={selectedItems.includes(item.id)}\r\n                    onChange={() => handleSelectItem(item.id)}\r\n                    onClick={(e) => e.stopPropagation()}\r\n                    className=\"rounded text-brand-blue-500 focus:ring-brand-blue-500/20\"\r\n                  />\r\n                </td>\r\n              )}\r\n              {columns.map((column, colIndex) => (\r\n                <td key={colIndex} className=\"px-6 py-4\">\r\n                  {column.render ? column.render(item) : \r\n                    String(item[column.key as keyof T])}\r\n                </td>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminTable;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}